#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ§ª Running pre-commit tests..."
echo ""

# Run frontend tests
echo "ğŸ“¦ Running frontend tests..."
npm test -- --run --reporter=verbose || {
  echo "âŒ Frontend tests failed!"
  exit 1
}

echo "âœ… Frontend tests passed!"
echo ""

# Run Rust backend tests
echo "ğŸ¦€ Running Rust backend tests..."
cd rust-backend && cargo test --quiet || {
  echo "âŒ Rust tests failed!"
  exit 1
}

echo "âœ… Rust tests passed!"
echo ""
echo "âœ¨ All tests passed! Proceeding with commit..."
